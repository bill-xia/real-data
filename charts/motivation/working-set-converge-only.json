{
  "$schema": "https://vega.github.io/schema/vega-lite/v6.json",
  "description": "Stock prices of 5 Tech Companies over Time.",
  "data": {
    "url": "working-set-2phase-converge-only.csv"
  },
  "width": 500,
  "height": 300,
  "title": "Working set data, frr, FatTree32, no 2phase, no r2i",
  "layer": [
    {
      "transform": [
        {
          "calculate": "datum.interval == 0.05 ? '50 ms' : datum.interval == 0.1 ? '100 ms' : datum.interval == 0.2 ? '200 ms' : datum.interval == 0.5 ? '500 ms' : datum.interval == 1.0 ? '1000 ms' : ''",
          "as": "interval_label"
        }
      ],
      "mark": {
        "type": "line"
      },
      "encoding": {
        "x": {
          "field": "time",
          "type": "quantitative"
        },
        "y": {
          "field": "iolog_count",
          "type": "quantitative"
        },
        "color": {
          "field": "interval_label",
          "type": "nominal",
          "title": "Time Window",
          "sort": [
            "50 ms",
            "100 ms",
            "200 ms",
            "500 ms",
            "1000 ms"
          ]
        }
      }
    },
    {
      "transform": [
        {
          "calculate": "1280",
          "as": "yval"
        },
        {
          "calculate": "'Total Node Count'",
          "as": "tot_node_cnt"
        }
      ],
      "mark": {
        "type": "rule",
        "color": "gray"
      },
      "encoding": {
        "y": {
          "field": "yval",
          "type": "quantitative"
        }
      }
    },
    {
      "data": {
        "values": [
          {
            "x": 0,
            "y": 1280,
            "label": "Total nodes: 1280"
          }
        ]
      },
      "mark": {
        "type": "text",
        "align": "left",
        "baseline": "top",
        "dx": 5,
        "dy": 5,
        "color": "black"
      },
      "encoding": {
        "x": {
          "field": "x",
          "type": "quantitative"
        },
        "y": {
          "field": "y",
          "type": "quantitative"
        },
        "text": {
          "field": "label"
        }
      }
    }
  ]
}